@using WEB.Models
@model List<Book>

@{
    ViewData["Title"] = "Search";
}

<div class="text-center"><h1 class="display-4">Search Result</h1></div>

<form asp-action="Search" class="d-flex">
    <input class="form-control me-2 rounded-pill" type="text" name="searchTerm" value="@ViewBag.SearchTerm" placeholder="Search by Author, Title, ..." required>
    <button class="btn btn-primary" type="submit">Search</button>
</form>

<div class="container">
    <div class="row mt-4">
        <div class="col-md-12">
            <h4>Search results:</h4>
            @if (Model.Count == 0)
            {
                <p>No results found</p>
            }
            else
            {
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Author</th>
                            <th>Publisher</th>
                            <th>Category</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var book in Model)
                        {
                            <tr id="tr-search" onclick="window.location.href='@Url.Action("Detail", "Books", new { id = book.BookId })'">
                                <td>@book.Title</td>
                                <td>@(book.Author!.Name)</td>
                                <td>@(book.Publisher!.Name)</td>
                                <td>@(book.Category!.Name)</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </div>
    </div>
</div>

<style>
    #tr-search:hover {
        background-color: lightgrey;
        cursor: pointer;
    }
</style>